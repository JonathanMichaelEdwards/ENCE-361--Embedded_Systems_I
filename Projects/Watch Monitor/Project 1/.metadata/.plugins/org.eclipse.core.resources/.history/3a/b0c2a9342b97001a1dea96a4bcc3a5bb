//  ==========================================================================
//  ENCE-361: Embedded Systems 1 (2020);  University of Canterbury
//  Project:  Personal Fitness Monitor Project
//
//  FILE NAME:      control.c
//  
//  Author(s):         Jonathan Edwards, Grace Kaye-Blake, Riley Symon
// 
//  Description:   
//  ==========================================================================


// Project Libaries - created by us
#include "FSM/control.h"
#include "FSM/controller.h"
#include "FSM/display.h"


CurrentState progUpdate(CurrentState state) 
{ 
    btnCheck(&state.dispMode, &state.dispConversion, &state.resetSteps, &state.resetDist);
    // switchCheck(&mode)  -- similar to btnCheck
    if (state.resetSteps) {
        state.stepCount = 0;
        state.resetSteps = false;
    }
    else if (state.resetDist) {
        state.distance = 0;
        state.resetDist = false;
    }

    displayUpdate(state.dispMode, state.dispConversion, state.stepCount, state.distance);

    return state;
}
